<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML lang="ja">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="dsk_sakura.css" type="text/css">
<link rel="shortcut icon" href="images/favicon.ico">
<TITLE>変更履歴(2003/01/14～)</TITLE>
<META NAME="MS-HKWD" CONTENT="変更履歴">
</HEAD>
<BODY>
<script type="text/javascript" src="item.js"></script>
<noscript>[<a href="HLP000001.html">目次</a>]<br></noscript>
<h2>変更履歴(2003/01/14～)</h2>
Jun. 26, 2003 (1.3.10.2)<br>
<br>
[バグ修正]<br>
<div class="li200">
・Windows 95/98で印刷ができなかった現象(用紙が送られるが何も印字されない)を修正．(by おきたさん，かろとさん) <br>
</div><br>
Jun. 22, 2003 (1.3.10.1)<br>
<br>
[仕様変更]<br>
<div class="li200">
・Grep関連の変更(by もかさん) <br>
・結果出力が該当部分の場合のヒット後の次の検索開始位置を[前のヒット開始位置+1]→[検索にヒットした文字列の次の文字]に結果出力が該当部分の場合の表示文字列を[検索キー]→[実際にヒットした文字列]にヒットした文字列の表示文字数制限を[結果表示が該当行の場合1000バイトまで/結果表示が該当部分の場合2000バイトまで]→[結果出力形式がノーマル表示の場合2000バイトまで/結果出力形式がファイル毎の場合2500バイトまで] <br>
・無関係なオプションをGREP出力に含めないように．<br>
</div><br>
[バグ修正]<br>
<div class="li200">
・BCCでコンパイルした場合も0バイトのファイルが開けるように．(by もかさん) <br>
・Grepウィンドウからファイルを開くとGrep状態のままファイルを開くことがあったのを修正．(by もかさん) <br>
・ファイル読み込み時のBOMチェックが変だったのを修正．(by もかさん) <br>
</div><br>
[その他変更]<br>
<div class="li200">
・Grepダイアログの「ファイル」欄が空欄の状態で検索したら「*.*」が指定されているとみなして全ファイル検索．(by もかさん) <br>
・文字コードセットを自動選択にしたGrepでファイルが読み込みエラーになった場合にも読み込めなかったファイルがファイル数にカウントされるように．(by もかさん) <br>
・CShareData::GetMacroName()の戻り値がローカル変数へのポインタを返すことがあったのを修正．(by もかさん) <br>
・CPPAのメモリリークの修正とメモリ使用量削減．(by もかさん) <br>
タスクトレイから新規エディタを開いたときのカレントディレクトリを最後に使われた存在するディレクトリに．(by げんた) <br>
・改行コードにかかわらず(\rを入れなくても)正規表現の行末指定$がヒットするように．(by かろとさん) <br>
</div><br>
May 25, 2003 (1.3.10.0)<br>
<br>
[機能追加]<br>
<div class="li200">
・印刷ダイアログボックスをWindows標準のものにして，プリンター設定ができるように．(by かろとさん) <br>
・階層付きテキスト，HTMLのアウトライン解析 (by (全略)さん) <br>
</div><br>
[バグ修正]<br>
<div class="li200">
・検索・置換関係 (by かろとさん) <br>
・改行コードを「すべて置換」した時、無限に置換が行われる不具合修正 <br>
・正規表現の行頭文字(^)を検索すると見つからないと言われる不具合修正 <br>
・正規表現の行頭文字(^)を検索すると全部の文字が検索文字の色になる不具合修正 <br>
・[EOF]位置から行末文字($)を検索すると、最下位行の行末にマッチしない不具合修正 <br>
・「全て置換」時に始点挿入、終点追加が動くように <br>
・プリンターダイアログで用紙サイズや固有の設定を変更した場合に結果が保存されるように．(by かろとさん) <br>
・フリーカーソルでない時に行削除した場合にEOLよりキャレットが右に来ないようにキャレット位置を調整．(by かろとさん) <br>
・「ファイルを開く」ダイアログボックスでメモリリークしていたのを修正．(by みくさん) <br>
</div><br>
[その他変更]<br>
<div class="li200">
・全角ひらがな・かたかな→半角変換で，長音，濁点，半濁点を直前の文字に応じて変換対象とするように．(by かろとさん) <br>
・プリンターの設定をプロセス終了まで記憶するように．(by かろとさん) <br>
・お気に入りダイアログボックスで，履歴が更新されたときのメッセージの出し方をメッセージボックスからダイアログボックス中の文字列に．(by みくさん) <br>
・sakura.ini中の強調キーワード区切りを\0からTABに変更．バイナリを扱えないエディタでsakura.iniを開いたときにもキーワード設定が破壊されないように．(by げんた) <br>
</div><br>
May 17, 2003 (1.3.9.1)<br>
<br>
[仕様変更]<br>
<div class="li200">
・以下の設定項目の保存箇所をsakura.iniのOtherセクションに移動したため設定が引き継がれません (by みくさん) <br>
<div class="li400">
・DIFF差分表示ダイアログのオプション <br>
・外部コマンド実行のオプション（標準出力を得る） <br>
・指定行へジャンプの「改行単位の行番号」か「折り返し単位の行番号」か <br>
</div></div><br>
[機能追加]<br>
<div class="li200">
・ダイレクトタグジャンプのサブディレクトリ対応 (by みくさん/げんた) <br>
・tagsファイル作成時に，作成位置，サブディレクトリを対象にするかどうか，オプション設定を指定できるように (by みくさん) <br>
<div class="li400">
サブディレクトリを含むダイレクトタグジャンプを使う場合は，対象とするディレクトリすべてを配下に含むディレクトリにtagsファイルを生成してください．そのディレクトリ配下のファイル間でダイレクトタグジャンプができるようになります．<br>
ダイレクトタグジャンプでは対象ファイルからディレクトリを1つずつ上に上りながらtagsファイルを探し，最初に見つかったファイルを利用します．ですので，サブディレクトリ全体を対象とする場合にはサブディレクトリの中に部分的なtagsファイルを置かないようにしてください．<br>
</div><br>
・「ファイルを開く」ダイアログボックスでファイルの種類としてタイプ別設定で指定されている拡張子が候補に挙がるように (by みくさん) <br>
</div><br>
[バグ修正]<br>
<div class="li200">
・ダイレクトタグジャンプで同一タグが101個以上あるときのメッセージが不正な位置に入っていたのを修正 (by みくさん) <br>
・BCCでのコンパイル時にCRecent.hでエラーが出るのを修正 (by みくさん) <br>
・タイプ別設定－正規表現キーワードタブ初期表示時にリストの内容が下の編集ボックスに反映されない問題修正 (by みくさん) <br>
・共通設定－ファイル名表示タブ初期表示時にリストの内容が下の編集ボックスに反映されない問題修正 (by もかさん) <br>
</div><br>
[その他変更]<br>
<div class="li200">
・DIFF差分表示ダイアログで，次の差分・前の差分が見つからなかったときのオプションがわかりづらかったのを修正(by みくさん) <br>
・DIFF差分で差分がなかったときのメッセージ表示を抑制するオプションを追加(by みくさん) <br>
</div><br>
Apr. 24, 2003 (1.3.9.0)<br>
<br>
[機能追加]<br>
<div class="li200">
・ダイレクトタグジャンプ (by みくさん) <br>
<div class="li400">
ダイレクトタグジャンプの使い方<br>
あらかじめctagsを使ってタグファイルを作る必要があります．<br>
<br>
<a href="http://hp.vector.co.jp/authors/VA025040/" target="_blank" rel="noopener">Exuberant Ctags 日本語対応版</a><br>
<br>
上のリンクからctags.exeを取得し，それをsakura.exeと同一フォルダーに置きます．次にctagsを作成したいディレクトリを開き，検索メニュー→タグファイルの作成でタグファイルを作成します．カレントフォルダーのみのタグファイルを作成します．サブディレクトリのファイルも含んだタグファイルを作成したい場合はコマンドラインからctagsを直接実行してください．手動で作成するときは， ctags.exe --excmd=n -R * のように指定してください．カレントディレクトリ以外のtagsは参照されません．<br>
<br>
キーワード上でタグジャンプすると定義位置へジャンプします．複数のジャンプ先がある場合はダイアログが出ます．タグジャンプに失敗した場合に自動的にダイレクトタグジャンプを行いますが，ダイレクトタグジャンプという機能も追加されています．<br>
</div><br>
・編集中ファイルのDIFF (by みくさん) <br>
・閉じてタブジャンプを独立したコマンドとし，Ctrl押下時のタグジャンプでジャンプ元ウィンドウを閉じる機能を抑止．(by げんた) ただしこのコマンドはマクロに記録されません． <br>
・お気に入り機能．最近使ったファイル・フォルダーからお気に入りを指定することで先頭に表示させることができます． (by みくさん) <br>
・履歴クリア機能 (by みくさん) <br>
・特殊文字 $V(エディタのバージョン)，$h (Grep Key)，$I (アイコン化有無)を追加 (by げんた) <br>
・ウィンドウキャプションのカスタマイズ (by みくさん) <br>
<br>
ツールバーアイコンが追加されているので，独自アイコンを使っている人はアイコンファイルの修正が必要です．<br>
</div><br>
[バグ修正]<br>
<div class="li200">
・CDocLineMgr.cpp:FileWrite()の戻り値バグ修正 (by みくさん) <br>
・CShareData.cppの初期化バグ修正 (by みくさん) <br>
・正規表現の置換で選択位置挿入を動作するように (by みくさん) <br>
・行番号の下からマウスで範囲選択すると選択範囲が変になるのを修正．(by げんた) <br>
</div><br>
[その他変更]<br>
<div class="li200">
・予告通り特殊文字の判定条件(g)を(w)に変更．(by げんた) <br>
</div><br>
Apr. 01, 2003 (1.3.8.2)<br>
<br>
[機能追加]<br>
<div class="li200">
・パラメータ展開記号の拡張 (by げんた) <br>
<div class="li400">
パラメータ展開記号の拡張について<br>
<br>
パラメータ展開記号として，条件によって分岐するための記号を追加しました．<br>
<br>
構文<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;${条件?文字列1$:文字列2$} <br>
<br>
条件の結果によって文字列1または文字列2のいずれかが評価されます．条件によっては3つ以上のパターンを持つものもあります．<br>
<br>
条件<br>
<br>
以下の条件が使えます．<br>
<div class="li600">
R <br>
&nbsp;&nbsp;&nbsp;&nbsp;読みとり専用$:上書き禁止$:いずれでもない <br>
U <br>
&nbsp;&nbsp;&nbsp;&nbsp;更新されたファイル$:更新されていないファイル <br>
M <br>
&nbsp;&nbsp;&nbsp;&nbsp;キーボードマクロ記録中$:記録中でない <br>
g (忘れなければwに変更予定) <br>
&nbsp;&nbsp;&nbsp;&nbsp;Grepウィンドウ$:アウトプットウィンドウ$:普通のウィンドウ <br>
</div></div></div><br>
[バグ修正]<br>
<div class="li200">
・読みとり専用ファイルではDrag &amp; Drop編集ができないように．(by げんた) <br>
・タブの矢印記号表示で矢印が行番号に重なって表示されるのを修正．(by みくさん) <br>
</div><br>
[その他変更]<br>
<div class="li200">
・TAB設定画面でチェック状態に応じてタブ文字入力をEnable/Disableするように．(by げんた) <br>
・タイプ別設定でのメモリ消費削減 (by げんた) <br>
</div><br>
Mar. 30, 2003 (1.3.8.1)<br>
<br>
[仕様変更]<br>
<div class="li200">
・ファイル名が決まっていないときの「開く」「保存」ダイアログの初期フォルダーを最後に使ったフォルダーからエディタ起動時のカレントフォルダーに変更．(by げんた) <br>
</div><br>
[機能追加]<br>
<div class="li200">
・タブ表示を専用の矢印記号にするオプションの追加．(by みくさん) <br>
</div><br>
[バグ修正]<br>
<div class="li200">
・対括弧の強調表示の再描画対応．(by aiさん) <br>
・対括弧の強調表示が行の間隔が｢0｣の場合に消えずに残る問題の対応．(by aiさん) <br>
・対括弧の強調表示がON，行の間隔が｢0｣の時にアンダーラインが欠ける事がある問題の対応．(by aiさん) <br>
・対括弧の強調表示がONの時｢すべて置換｣｢すべて置換｣後のUndo&amp;Redoが遅い問題の対応．(by aiさん) <br>
・タイプ別設定 『正規表現キーワード』の更新でコンボボックスの選択が元に戻るのを修正．(by みくさん) <br>
・改行の真ん中にキャレットが表示されるのを修正．(by みくさん) <br>
・「上書き保存」「開き直す」でブックマークを失わないように．(by げんた) <br>
・隠し属性かつ書き込み禁止のファイルの上書き試行で隠し属性が外れたままになるのを修正．(by げんた) <br>
・隠し属性かつ書き込み禁止のファイルの上書き試行でメモリリークするのを修正．(by げんた) <br>
</div><br>
[その他変更]<br>
<div class="li200">
・英語キーボード用のコメントをキーカスタマイズのキーに付加．(by げんた) <br>
・「閉じて開く」でキャンセルした場合に前のファイルの編集を継続可能に．(by げんた) <br>
</div><br>
Mar. 09, 2003 (1.3.8.0)<br>
<br>
[仕様変更]<br>
<div class="li200">
・マクロコマンドGetSelectedStringは選択部分全体を返します．未選択の時は空文字列を返します．(by 鬼さん)<br>
従来の機能(選択部分の1行目/カーソル位置の単語)を使いたいときはExpandParameter("$C")を使ってください． <br>
</div><br>
[機能追加]<br>
<div class="li200">
・マクロコマンドExpandParameter 追加．(by もかさん)<br>
・特殊記号を含んだ文字列を与えると，特殊記号部分を展開した文字列を返します．外部コマンド実行で受け付けられるのと同じ特殊記号が使用できます． <br>
</div><br>
[バグ修正]<br>
<div class="li200">
・行番号を非表示のとき行番号領域とテキストの間の隙間の描画されないのを修正． (by もかさん) <br>
・コマンドラインからGrepダイアログを開いた場合親ウィンドウが正しく指定されないのを修正．(by もかさん) <br>
</div><br>
[その他変更]<br>
<div class="li200">
・検索ボックスの位置を1ドット下にずらした． (by げんた) <br>
・strictfp/assertをjava keywordに追加． (by げんた)<br>
・変更したのは初期リストなので，既に使用中の方はご自分で追加してください． <br>
・Profileの書き出しでバッファリングのあるfwriteを使うように．(by Mr.Nakさん) <br>
・PrintPreviewで1ページしか無いとき無効なボタンにフォーカスが移ってキーボード操作が効かなくなるのを防ぐため，最終ページに達したら「戻る」にフォーカスを移すように変更．(by げんた) <br>
</div><br>
Feb. 18, 2003 (1.3.7.0)<br>
<br>
[機能追加]<br>
<div class="li200">
・パス名の省略表示 (もかさん) <br>
・ウィンドウ位置指定オプション追加．-SX/SYでサイズの指定，-WX/WYでウィンドウ位置の指定ができます．(あろかさん) <br>
</div><br>
[バグ修正]<br>
<div class="li200">
・ローカル変数へのポインタを戻り値で返しているところがあったのを修正．(みくさん) <br>
</div><br>
[その他変更]<br>
<div class="li200">
・行間隔，文字間隔の最大値をそれぞれ128, 64に拡大 (げんた) <br>
・gccのエラーメッセージでタグジャンプ可能に (まつもさん)．javacも同じ形式？ <br>
</div><br>
Jan. 14, 2003 (1.3.6.3)<br>
<br>
[バグ修正]<br>
<div class="li200">
・ホットキーでタスクトレイメニューが出なくなっていたのを修正．（あろかさん） <br>
・diff.exeが無いときに差分表示を行ったらエラーメッセージを出すように．（みくさん） <br>
・改行コード表示が欠けることがあったのを修正．（aiさん） <br>
・矩形選択中に括弧が強調表示される場合があったのを修正．（aiさん） <br>
</div><br>
[その他変更]<br>
<div class="li200">
・検索ボックスのフォントサイズを少し小さくした（げんた） <br>
・新しいヘルプファイルにあわせたsakura.hhの入れ替え（noviceさん） <br>
・コメントアウトされたinclude行の削除（noviceさん） <br>
</div><br>
</BODY></HTML>
