<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML lang="ja">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="dsk_sakura.css" type="text/css">
<link rel="shortcut icon" href="images/favicon.ico">
<TITLE>変更履歴(2002/02/23～)</TITLE>
<META NAME="MS-HKWD" CONTENT="変更履歴">
</HEAD>
<BODY>
<script type="text/javascript" src="item.js"></script>
<noscript>[<a href="HLP000001.html">目次</a>]<br></noscript>
<h2>変更履歴(2002/02/23～)</h2>
Apr. 27, 2002 (1.3.0.0)<br>
<br>
[機能追加]<br>
<div class="li200">
・WXGでの再変換 (by やざきさん)<br>
・段落移動機能を、単語移動と動作を合わせて、「共通設定」→「全般」にオプション追加。(by やざきさん)<br>
</div><br>
[バグ修正]<br>
<div class="li200">
・ぶら下げが機能しなくなっていたのを修正。(by みくさん)<br>
・最終行EOFの左でBSキーを押して前行にEOFが移動するとき、元のEOF表示が消えないのを修正。(by みくさん)<br>
</div><br>
[その他変更]<br>
<div class="li200">
・クリップボードへのコピー速度を改善 (by Azymaiyaさん)<br>
・タスクトレイのアイコンを右クリックして、使えないメニューがあったので混乱を避けるために削除。(by やざきさん)<br>
・微妙にメモリ使用量を減らしつつ、ファイルサイズも減らしつつ。(by やざきさん)<br>
</div><br>
[残存バグ・制限事項など]<br>
<div class="li200">
・ウィンドウを最大化しといたのに或る時突然以前のサイズで開くことがある。<br>
・リードオンリーファイルの上書きをしようとするとするとエラーになるが、保存できてないのに編集マークが消える。<br>
・句読点の直前にカーソルを置いて、文字を入力していくと、改行位置で句読点は禁則で行にとどまるのに、カーソルだけ次の行に移動してしまう。<br>
・カーソル行アンダーラインが移動した後、折り返しの線や白以外の背景色が再描画されていない。<br>
</div><br>
Apr. 20, 2002 (1.2.107.7)<br>
<br>
[機能追加]<br>
<div class="li200">
・IEやエクスプローラのようにシステムメニューから編集中のファイルをドラッグ＆ドロップできるように。(BY おにさん)<br>
・段落移動機能 (BY やざきさん)<br>
・画面分割時に分割時のカーソル位置を考慮するように。(BY やざきさん)<br>
</div><br>
[バグ修正]<br>
<div class="li200">
・禁則処理に関するバグ修正。(BY みくさん)<br>
・Win98などで、新規ファイルを開くときに、サクラエディタが強制終了するバグ修正。(BY みくさん)<br>
・DEBUGモードのときに、強調キーワードの直接編集でサクラエディタが強制終了するバグ修正。(BY やざきさん)<br>
・「見つからなかったときにメッセージを表示」をオフにしたまま、次へ検索を繰り返していって、ステータスバーに「▽見つかりませんでした」と表示されたあとに、ステータスバーなどに表示されているカーソルの座標と、実際のカーソル位置が食い違うバグ修正。(BY やざきさん)<br>
・ブラウズ機能で、関連付けられたアプリケーションで開かれないことがあるバグ修正。(BY みくさん)<br>
・上書きモードで日本語入力のキーマクロが記録できないバグ修正。(BY やざきさん)<br>
</div><br>
Apr. 18, 2002 (1.2.107.6)<br>
<br>
[機能追加]<br>
<div class="li200">
・禁則処理: 「改行コードをぶら下げる」を追加。(BY みくさん)<br>
・禁則処理: 「句読点ぶら下げ」を追加。(BY みくさん)<br>
</div><br>
[バグ修正]<br>
<div class="li200">
・CRLF改行でコピーが正常に動作しないのを修正。(BY げんた)<br>
・「他プロセスからの上書きを禁止する」がオンのときに、作成されたファイルが「リードオンリー」になる。(BY みくさん)<br>
・Windows XPでツールバーに分割線（セパレータ）を挿入できないのを修正。(BY げんた)<br>
・ATOKがインストールされていないと問題が起きていたかもしれないバグ修正。(BY みくさん)<br>
・「見つからなかったときにメッセージを表示」をオフにしたまま、次へ検索を繰り返していって、ステータスバーに「▽見つかりませんでした」と表示されたあとに、表示されているカーソルの位置と、実際のカーソル位置が食い違うのを修正。(BY やざきさん)<br>
・文字を選択していなくても「削除」メニューを使えるように。(BY やざきさん)<br>
・改行の直前で単語切り取りすると、行全体が切り取られるのを修正。(BY やざきさん)<br>
・「検索」→「ブックマークの設定・解除」などメニューを選んで「F1」キーを押してもヘルプが出てこなかったものについて、ヘルプが出るように修正。（場所によっては最新のヘルプが必要。）(BY やざきさん)<br>
・行頭禁則で最終行の最終文字が禁則されているとき無限ループする問題の修正。(BY みくさん)<br>
</div><br>
[その他変更]<br>
<div class="li200">
・システムファイルの変更をできるようにした際、保存性能が劣化していたのを元と同じレベルに戻した。(BY Azumaiyaさん)<br>
・禁則文字は印刷でも使うのでいつでも入力可能項目に。(BY みくさん)<br>
・デフォルトの行頭禁則文字を変更。(BY みくさん)<br>
・禁則処理へ入る条件（行末付近の文字だけ）を付けてちょっとだけ高速化。(BY みくさん)<br>
</div><br>
[残存バグ・制限事項など]<br>
<div class="li200">
・文字入力・削除により前行に禁則が発生した場合、前行が再描画されない。<br>
・最終行の行番号の下の部分から右上に向かってDrag&amp;Dropで選択すると選択表示が変になる。<br>
</div><br>
Apr. 12, 2002 (1.2.107.5)<br>
<br>
[機能追加]<br>
<div class="li200">
・禁則処理(画面表示、印刷)追加。(BY みくさん)<br>
・再変換をメニューからできるように。(BY minfuさん)<br>
</div><br>
[その他変更]<br>
<div class="li200">
・再変換の精度向上。(BY minfuさん)<br>
</div><br>
[残存バグ・制限事項など]<br>
<div class="li200">
・ATOKで再変換を使うとその後アプリケーションエラーになる。<br>
・起動時のIME設定の「そのまま」がOFFと同じ動作になる。<br>
・改行の直前で単語切り取りすると、行全体が切り取られる。<br>
・禁則処理の「改行文字をぶら下げる」をオンにして、挿入モードで、IMEをオフにして入力していくと、折り返し位置に改行記号がくっついたまま、次の行から入力される。<br>
・折り返し直後がEOFのとき、EOFのところで改行しても行末に改行文字が表示されない。<br>
・改行ぶら下がり行の右をマウスでクリックすると一文字前にカーソルがくる。<br>
・1行目に行頭禁則があるとき、2行目以降を削除して1行目のみにすると無限ループする。<br>
・折り返し行の文字を削除して、行頭禁則文字が前行にぶら下がろうとするとき表示がおかしくなる。<br>
・新規ファイル保存のファイル属性がリードオンリーになってしまう。<br>
・保存時の性能が低下している。<br>
</div><br>
Apr. 8, 2002 (1.2.107.4)<br>
<br>
[バグ修正]<br>
<div class="li200">
・テキストを選択するときに最終行の行番号の下辺り（[EOF]の左辺り）をクリックして上の方にドラッグすると選択がおかしいバグ修正。(BY やざきさん)<br>
・現在のウィンドウ幅で折り返しに誤差があることがあるバグ修正。(BY あろかさん)<br>
・ひとつずつ置換していって、全部置換したときにメッセージが表示されると、フォーカスがエディタ側に戻ってしまうバグ修正。(BY やざきさん)<br>
・半ページスクロール時に、カーソル行のアンダーラインが真中あたりに一瞬表示されるバグ修正。(BY やざきさん)<br>
・BCCでコンパイルできないのを修正。(BY やざきさん)<br>
</div><br>
[その他変更]<br>
<div class="li200">
・カスタムメニューがマウスカーソル位置に表示されるように。(BY やざきさん)<br>
・マウスで文字の左半分をクリックしたときはその文字から選択されるように変更。(BY かんじゅさん)<br>
</div><br>
Apr. 1, 2002 (1.2.107.3)<br>
<br>
[機能追加]<br>
<div class="li200">
・再変換に対応 (BY minfuさん、あろかさん)<br>
・アウトライン解析のカスタマイズを可能に。(BY やざきさん)<br>
・「タイプ別設定」→「スクリーン」タブで「ルールファイル」を選び、ルールファイル名を入力しましょう。<br>
<div class="li400">
ルールファイル書式<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;function  /// 関数<br>
&nbsp;&nbsp;&nbsp;&nbsp;procedure  /// 関数<br>
<br>
「 /// 」を区切りとして認識 (前後のスペースも区切りの一部)。<br>
<br>
区切りの前が、検索する文字列、区切りのあとが、グループ名です。グループ名をあわせておくと、同じレベルのものとして扱われ、次のように表示されます。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;-function A<br>
&nbsp;&nbsp;&nbsp;&nbsp;-procedure B<br>
&nbsp;&nbsp;&nbsp;&nbsp;-procedure C<br>
<br>
グループ名を異なるものにすると階層化されます。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;function  /// 関数function<br>
&nbsp;&nbsp;&nbsp;&nbsp;procedure  /// 関数procedure<br>
<br>
これは以下のようになります。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;＋function A<br>
&nbsp;&nbsp;&nbsp;&nbsp;　-procedure B<br>
&nbsp;&nbsp;&nbsp;&nbsp;　-procedure C<br>
</div></div><br>
[その他変更]<br>
<div class="li200">
・「全て置換」の速度改善 (BY Azumaiyaさん)<br>
</div><br>
[残存バグ・制限事項など]<br>
<div class="li200">
・範囲選択後カーソルを左に動かしても選択が解除されない。<br>
・BCCでコンパイルするとwinmm.libが見つからないと言うエラーが出る。<br>
・行番号の最下端からドラッグして範囲選択すると、選択範囲の表示がおかしくなる。<br>
</div><br>
Mar. 25, 2002 (1.2.107.2)<br>
<br>
[バグ修正]<br>
<div class="li200">
・バックアップをゴミ箱に入れる設定にしてあるときネットワークドライブにあるファイルのバックアップが作られない (BY みくさん)<br>
</div><br>
[機能追加]<br>
<div class="li200">
・-GREPMODE指定時に他のオプションを無視しないように。(BY やざきさん)<br>
</div><br>
Mar. 23, 2002 (1.2.107.1)<br>
<br>
[バグ修正]<br>
<div class="li200">
・水平スクロールバーを操作するとルーラーがついてこないことがあるのを修正．(BY げんた)<br>
・印刷ヘッダーとフッターの描画位置が、プレビューと実際の印刷で異なる．(BY やざきさん)<br>
</div><br>
Mar. 16, 2002 (1.2.106.9)<br>
<br>
[仕様変更]<br>
<div class="li200">
・補完機能と逐次補完機能をまぜて、新しい補完機能にしてみた。(BY やざきさん)<br>
</div><br>
[機能追加]<br>
<div class="li200">
・PPA.DLL用関数追加 (S_GetFilename) (BYやざきさん)<br>
・アウトライン解析←→ブックマーク一覧の行き来がメニューでもできるように。(BYやざきさん)<br>
</div><br>
[その他変更]<br>
<div class="li200">
・PageUp/Down時に、不必要にカーソルが動くのを止めた。(BYやざきさん)<br>
・CEditView::DispLineNew()のマジックナンバーを定義値に。(BY noviceさん)<br>
</div><br>
[残存バグ・制限事項など]<br>
<br>
Mar. 11, 2002 (1.2.106.8)<br>
<br>
[機能追加]<br>
<div class="li200">
・折り返し位置に改行をつけてコピー。(BYやざきさん)<br>
・文書タイプの強制指定オプションの追加。(BY げんた)<br>
・-TYPE=(タイプに関連づけられた拡張子)<br>
・折り返し位置に改行をつけてコピーを追加。(BYやざきさん)<br>
・Ctrl+Spaceで逐次補完入力のON/OFFが行えるように。(BYやざきさん)<br>
</div><br>
[バグ修正]<br>
<div class="li200">
・PPA.DLLがあるときに、どの登録済みマクロを実行しても最後に読み込んだマクロが実行されるのを修正。(BYやざきさん)<br>
・Grepの単語単位のオプションが無視されることがあるのを修正。(BYやざきさん)<br>
・キーワードセットを削除すると、タイプ別設定の強調キーワードの設定が削除されたキーワードセットより後のセットだけがずれるのを修正。(BY もかさん)<br>
・文字列入力（S_InsText）、ファイルを開く（S_FileOpen）の記録に失敗するのを修正。(BYやざきさん)<br>
・ABC D[EOF]となっていたときに、Dの後ろにカーソルを合わせ、単語の左端に移動すると、Aにカーソルがあうのを修正。(BYやざきさん)<br>
・→から、ABC D[EOF]で"D"で補完できるものがあると、ABC Dがまるごと削除されてしまうバグを修正。(BYやざきさん)<br>
</div><br>
[その他変更]<br>
<div class="li200">
・Grep結果の表示を、検索条件→□検索条件に変更（アウトライン解析できるように）。(BYやざきさん)<br>
・マクロ実行時に常にマクロファイルを読み込みなおすか設定できるように。(BYやざきさん)<br>
</div><br>
[残存バグ・制限事項など]<br>
<br>
Mar. 8, 2002 (1.2.106.7)<br>
<br>
[バグ修正]<br>
<div class="li200">
・GREPダイアログを移動後に閉じるとそれ以降表示されなくなるのを修正(BY やざきさん)。<br>
</div><br>
[残存バグ・制限事項など]<br>
<div class="li200">
・PPA.DLLがあるとき複数のマクロを正しく実行できない。(最後に読み込まれたマクロが常に実行されてしまう)<br>
・キーワードセットを削除すると、タイプ別設定の強調キーワードの設定が削除されたキーワードセットより後のセットだけずれる。<br>
・水平スクロールバーを動かしたときにルーラーが動かないことがある。<br>
・単語単位のGrepでも単語でない行が出力されてしまう。<br>
</div><br>
Mar. 7, 2002 (1.2.106.6)<br>
<br>
[機能追加]<br>
<div class="li200">
・Grepで単語単位のオプションを使用可能に。(BY やざきさん)<br>
</div><br>
[バグ修正]<br>
<div class="li200">
・PPA.DLLが無いとS_Char(97)などが正しく動作しないのを修正。(BYやざきさん)<br>
・「ファイル」→「ファイル操作」→「読み取り専用」がチェック状態になるように (BY げんた)<br>
</div><br>
[残存バグ・制限事項など]<br>
<div class="li200">
・PPA.DLLがあるとき複数のマクロを正しく実行できない。(最後に読み込まれたマクロが常に実行されてしまう)<br>
・キーワードセットを削除すると、タイプ別設定の強調キーワードの設定が削除されたキーワードセットより後のセットだけずれる。<br>
・水平スクロールバーを動かしたときにルーラーが動かないことがある。<br>
・GREPダイアログを移動後に閉じるとそれ以降表示されなくなる。<br>
</div><br>
Mar. 5, 2002 (1.2.106.5)<br>
<br>
[バグ修正]<br>
<div class="li200">
・GREPウィンドウを一旦閉じるとそれ以降表示されなくなるのを修正 (BY やざきさん)<br>
</div><br>
[残存バグ・制限事項など]<br>
<div class="li200">
・PPA.DLLが無いとS_Char(97)などが正しく動作しない．<br>
・GREPダイアログボックスの位置が保存されない。<br>
</div><br>
Mar. 4, 2002 (1.2.106.4)<br>
<br>
[仕様変更]<br>
<div class="li200">
・[Ctrl+Home]or[Ctrl+End]後に[Down]or[Up]したときの挙動を見直し (BY horさん)<br>
<div class="li400">
1.矩形選択中に[Ctrl+Home]or[Ctrl+End]して[Down]or[Up]したとき以外は普通にカーソル移動<br>
2.選択を解除したあとは普通にカーソル移動<br>
</div></div><br>
[機能追加]<br>
<div class="li200">
・共通設定→全般に「単語単位で移動するときに単語の両端に止まる」を追加。(by やざきさん)<br>
・ファイルを開いたあとに、読み取り専用に変更できるように(by やざきさん)<br>
</div><br>
[バグ修正]<br>
<div class="li200">
・行番号表示の桁数が変わるとルーラーの表示がずれるのを修正．(by やざきさん)<br>
・WinNTで「ヘルプ」-「目次」が出なくなったのを修正．(by やざきさん／みくさん)<br>
・Windows XPでmanifestファイルを使っている場合に共通設定→バックアップを選ぶと、自動的に「フォルダーの選択」ダイアログが表示される問題を修正 (by みくさん，げんた)<br>
・画面最大化時に右下のリサイズ表示がおかしくなるのを修正(by みくさん，やざきさん)<br>
</div><br>
[その他変更]<br>
<div class="li200">
・カーソル行アンダーライン表示のちらつきを低減．(by KKさん)<br>
</div><br>
[残存バグ・制限事項など]<br>
<div class="li200">
・Grepダイアログを一旦閉じるとプロセスを終了させるまで表示されなくなります．<br>
</div><br>
Feb. 23, 2002 (1.2.106.3)<br>
<br>
[バグ修正]<br>
<div class="li200">
・保存するときに、余計なダイアログが表示されることがある問題を修正 (by やざきさん)<br>
・Ctrl+Zで編集前に戻してもタイトルバーに「更新」が残らないように。(by やざきさん)<br>
・ヘルプの目次が表示されない。(by みくさん)<br>
</div><br>
[その他変更]<br>
<div class="li200">
・ルーラーのちらつきを低減。(by KKさん)<br>
</div><br>
[残存バグ・制限事項など]<br>
<div class="li200">
・行番号表示の桁数が変わるとルーラーの表示がずれる．<br>
・WinNTで「ヘルプ」-「目次」が出ない．<br>
・Windows XPでmanifestファイルを使っている場合に，「共通設定」-「バックアップ」タブを選択するとフォルダー選択ダイアログが勝手に出てきてしまう．<br>
</div><br>
Feb. 23, 2002 (1.2.106.2)<br>
<br>
[機能追加]<br>
<div class="li200">
・GREPでフォルダーの初期値をカレントフォルダーにするかどうかを選択可能に (BY horさん)<br>
・アウトライン解析関連 (BY horさん)<br>
<div class="li400">
・ブックマークの「空行を無視する」オプションを変更したらリストを再表示するように<br>
・「自動的に閉じる」オプションが有効はときはフォーカス移動オプションを操作不可に<br>
・「自動的に閉じる」「フォーカスを移す」はジャンプした時だけのオプションとして扱うように<br>
・「カット」「コピー」キーもツリーorリスト上で使えるように<br>
</div><br>
・INIファイル内に記述された印刷ページ設定のヘッダー,フッターが古い形式で設定されてたら新しい形式に読み替えるように．(by horさん)<br>
・EOF周辺で矩形選択した時に反転表示の残像が残るのを対策するコードを見直してちらつきを抑止<br>
・存在しないマクロを呼んだときにエラーがでるように (BY やざきさん)<br>
・印刷時にプリンターを選択できるように (BY やざきさん)<br>
・マクロにファイル系を追加(S_FileCloseOpenを除く)(BY やざきさん)<br>
<div class="li400">
S_FileSaveAs(ファイル名, 文字コード, 改行コード)<br>
・ファイル名： きっとフルパス。<br>
・文字コード：<br>
&nbsp;&nbsp;&nbsp;&nbsp;0:SJIS<br>
&nbsp;&nbsp;&nbsp;&nbsp;1:JIS<br>
&nbsp;&nbsp;&nbsp;&nbsp;2:EUC<br>
&nbsp;&nbsp;&nbsp;&nbsp;3:Unicode<br>
&nbsp;&nbsp;&nbsp;&nbsp;4:UTF-8<br>
&nbsp;&nbsp;&nbsp;&nbsp;5:UTF-7<br>
・改行コード：<br>
&nbsp;&nbsp;&nbsp;&nbsp;0:変換なし<br>
&nbsp;&nbsp;&nbsp;&nbsp;1:CR+LF<br>
&nbsp;&nbsp;&nbsp;&nbsp;2:LF(UNIX)<br>
&nbsp;&nbsp;&nbsp;&nbsp;3:CR(Mac)<br>
</div></div><br>
[バグ修正]<br>
<div class="li200">
・PPA.DLL使用時に共通設定-キー割り当て／ツールバーで「外部マクロ」を選ぶとアプリケーションエラーになるのを修正 (BY やざきさん)<br>
・アウトライン解析関連 (BY horさん)<br>
<div class="li400">
・ツリー上でダブルクリックしてもフォーカス移動できないのを修正<br>
・ブックマーク一覧の「コピー」でクリップボードに送られる文字が変だったのを修正<br>
・ブックマークの「空行を無視する」オプションが非表示なのにAlt+Bで切り替わってしまうのを修正<br>
・「フォーカスを移す」と「空行を無視する」のタブオーダーを修正<br>
</div><br>
・ウィンドウ幅より長いパターンで次を検索し続けると左右に表示がぶれるのを修正 (BY horさん)<br>
</div><br>
[その他変更]<br>
<div class="li200">
・「すべて置換」の後の「元に戻す」を少しだけ快適に (BY horさん)<br>
・使用されてないダイアログを削除してバイナリのサイズを縮小 (BY horさん)<br>
・CPrintからできるかぎりstaticをはずす。(BY やざきさん)<br>
・起動時にプリンターを探しに行かないように。(BY やざきさん)<br>
・CShareDataのインスタンスを作ることが許されるのはCProcessのみ。<br>
・ほかの場所では、getInstanceするように変更。→新しくかかわった人がわかりやすいように。(BY やざきさん)<br>
・上のとあわせて、GetShareDataから、ドキュメントタイプを返す部分を取りはずして、GetDocumentTypeとした。(BY やざきさん)<br>
</div><br>
[残存バグ・制限事項など]<br>
<div class="li200">
・バージョン表記が1.2.106.1となっています。<br>
・Undoで初期状態に戻った後も(更新)の表示が残る．<br>
・新規ファイル作成後、名前を付けて保存を行うと「Too Long Path」というタイトルのダイアログが出てくる．<br>
・新規ファイル作成後、上書き保存をしようとすると保存できない．<br>
</div><br>
</BODY></HTML>
